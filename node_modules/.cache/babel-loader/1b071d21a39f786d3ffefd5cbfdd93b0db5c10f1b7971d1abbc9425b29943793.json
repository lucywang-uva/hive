{"ast":null,"code":"var _jsxFileName = \"/Users/lucywang/hive/src/Select.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from \"react\";\nimport { FaCaretDown, FaCaretUp } from \"react-icons/fa\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VISIBLE_COUNT = 3; // number of items visible in the viewport\nconst ITEM_HEIGHT = 35; // height of each option in px\n\nexport const Select = ({\n  labelName,\n  options,\n  isMulti = false,\n  setSelected\n}) => {\n  _s();\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const [optionsDropdown, setOptionsDropdown] = useState(isMulti ? [{\n    label: \"Select all\",\n    value: null,\n    selected: false\n  }, ...options] : [{\n    label: \"None\",\n    value: null,\n    selected: false\n  }, ...options]);\n  const [scrollTop, setScrollTop] = useState(0);\n  const startIndex = Math.floor(scrollTop / ITEM_HEIGHT);\n  const endIndex = startIndex + VISIBLE_COUNT;\n  const visibleOptions = optionsDropdown.slice(startIndex, endIndex);\n  const handleScroll = e => {\n    setScrollTop(e.target.scrollTop);\n  };\n  const dropdownRef = useRef(null);\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsDropdownOpen(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n  const selectOption = selectedOption => {\n    let updatedOptions;\n    if (isMulti) {\n      if (selectedOption.value === null) {\n        const newSelected = !selectedOption.selected;\n        updatedOptions = optionsDropdown.map(option => ({\n          ...option,\n          selected: newSelected\n        }));\n      } else {\n        updatedOptions = optionsDropdown.map(option => option.value === selectedOption.value ? {\n          ...option,\n          selected: !option.selected\n        } : option);\n        updatedOptions[0].selected = updatedOptions.slice(1).every(option => option.selected);\n      }\n      setSelected(updatedOptions.filter(option => option.selected));\n    } else {\n      updatedOptions = optionsDropdown.map(option => ({\n        ...option,\n        selected: option.value === selectedOption.value\n      }));\n      setIsDropdownOpen(false);\n    }\n    setOptionsDropdown(updatedOptions);\n    setSelected(updatedOptions.find(option => option.selected));\n  };\n  const selectedOptions = optionsDropdown.filter(option => option.selected && option.value != null).map(option => option.label).join(\", \");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-col flex w-64 relative\",\n    ref: dropdownRef,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full select-none\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"z-0 px-3 py-4 border border-2 flex rounded-md text-left items-center justify-between border-blue-500 cursor-pointer relative\",\n        onClick: () => setIsDropdownOpen(!isDropdownOpen),\n        children: [labelName && /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"absolute mb-14 bg-white px-1 text-xs text-blue-500\",\n          children: labelName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          title: selectedOptions,\n          className: `w-full whitespace-nowrap overflow-hidden overflow-ellipsis pr-2 ${selectedOptions.length === 0 ? \"text-gray-500\" : \"\"}`,\n          children: selectedOptions.length > 0 ? selectedOptions : \"Select...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"flex\",\n            children: isDropdownOpen ? /*#__PURE__*/_jsxDEV(FaCaretUp, {\n              color: \"gray\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(FaCaretDown, {\n              color: \"gray\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 64\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), isDropdownOpen && /*#__PURE__*/_jsxDEV(\"ul\", {\n        onScroll: handleScroll,\n        className: \"max-h-48 overflow-y-auto rounded-md flex flex-col border shadow-md mt-1 bg-white z-20 absolute w-full\",\n        style: {\n          height: optionsDropdown.length * ITEM_HEIGHT,\n          position: 'relative'\n        },\n        children: visibleOptions.map(option => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `px-3 py-2 cursor-pointer hover:bg-gray-100 flex items-center gap-2 ${option.selected ? \"bg-blue-50\" : \"\"}`,\n          onClick: () => selectOption(option),\n          children: [isMulti && option.value != null && /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: option.selected,\n            readOnly: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: `whitespace-nowrap overflow-hidden overflow-ellipsis ${option.value === null ? 'italic' : ''}`,\n            children: option.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 17\n          }, this)]\n        }, option.value, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(Select, \"gFQ9ZlaZ+TgnCG24tCubB8EL6FU=\");\n_c = Select;\nvar _c;\n$RefreshReg$(_c, \"Select\");","map":{"version":3,"names":["useState","useEffect","useRef","FaCaretDown","FaCaretUp","jsxDEV","_jsxDEV","VISIBLE_COUNT","ITEM_HEIGHT","Select","labelName","options","isMulti","setSelected","_s","isDropdownOpen","setIsDropdownOpen","optionsDropdown","setOptionsDropdown","label","value","selected","scrollTop","setScrollTop","startIndex","Math","floor","endIndex","visibleOptions","slice","handleScroll","e","target","dropdownRef","handleClickOutside","event","current","contains","document","addEventListener","removeEventListener","selectOption","selectedOption","updatedOptions","newSelected","map","option","every","filter","find","selectedOptions","join","className","ref","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","title","length","color","onScroll","style","height","position","type","checked","readOnly","_c","$RefreshReg$"],"sources":["/Users/lucywang/hive/src/Select.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\nimport { FaCaretDown, FaCaretUp } from \"react-icons/fa\";\n\nconst VISIBLE_COUNT = 3; // number of items visible in the viewport\nconst ITEM_HEIGHT = 35;   // height of each option in px\n\nexport const Select = ({labelName, options, isMulti = false, setSelected }) => {\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const [optionsDropdown, setOptionsDropdown] = useState(\n    isMulti\n      ? [{ label: \"Select all\", value: null, selected: false }, ...options]\n      : [{ label: \"None\", value: null, selected: false }, ...options]\n  );\n  const [scrollTop, setScrollTop] = useState(0);\n\n  const startIndex = Math.floor(scrollTop / ITEM_HEIGHT);\nconst endIndex = startIndex + VISIBLE_COUNT;\nconst visibleOptions = optionsDropdown.slice(startIndex, endIndex);\n\nconst handleScroll = (e) => {\n  setScrollTop(e.target.scrollTop);\n};\n\n  const dropdownRef = useRef(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsDropdownOpen(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  const selectOption = (selectedOption) => {\n    let updatedOptions;\n    if (isMulti) {\n      if (selectedOption.value === null) {\n        const newSelected = !selectedOption.selected;\n        updatedOptions = optionsDropdown.map(option => ({ ...option, selected: newSelected }));\n      } else {\n        updatedOptions = optionsDropdown.map(option =>\n            option.value === selectedOption.value\n              ? { ...option, selected: !option.selected }\n              : option\n          )\n        updatedOptions[0].selected = updatedOptions.slice(1).every(option => option.selected);\n      }\n      setSelected(updatedOptions.filter((option) => option.selected));\n    } else {\n        updatedOptions = optionsDropdown.map(option => ({\n            ...option,\n            selected: option.value === selectedOption.value\n        }));\n        setIsDropdownOpen(false);\n        }\n        setOptionsDropdown(updatedOptions);\n        setSelected(updatedOptions.find((option) => option.selected));\n    };\n\n  const selectedOptions = optionsDropdown\n    .filter(option => option.selected && option.value != null)\n    .map(option => option.label)\n    .join(\", \");\n\n  return (\n    <div className=\"flex-col flex w-64 relative\" ref={dropdownRef}>\n      <div className=\"w-full select-none\">\n        <div\n          className=\"z-0 px-3 py-4 border border-2 flex rounded-md text-left items-center justify-between border-blue-500 cursor-pointer relative\"\n          onClick={() => setIsDropdownOpen(!isDropdownOpen)}\n        >\n          {labelName && <label className=\"absolute mb-14 bg-white px-1 text-xs text-blue-500\">\n            {labelName}\n          </label>}\n          <span\n            title={selectedOptions}\n            className={`w-full whitespace-nowrap overflow-hidden overflow-ellipsis pr-2 ${\n              selectedOptions.length === 0 ? \"text-gray-500\" : \"\"\n            }`}\n          >\n            {selectedOptions.length > 0 ? selectedOptions : \"Select...\"}\n          </span>\n          <div className=\"flex gap-2\">\n            <span className=\"flex\">\n              {isDropdownOpen ? <FaCaretUp color={\"gray\"} /> : <FaCaretDown color={\"gray\"} />}\n            </span>\n          </div>\n        </div>\n\n        {isDropdownOpen && (\n          <ul  onScroll={handleScroll} className=\"max-h-48 overflow-y-auto rounded-md flex flex-col border shadow-md mt-1 bg-white z-20 absolute w-full\"  style={{ height: optionsDropdown.length * ITEM_HEIGHT, position: 'relative' }}>\n            {visibleOptions.map((option) => (\n              <div\n                key={option.value}\n                className={`px-3 py-2 cursor-pointer hover:bg-gray-100 flex items-center gap-2 ${\n                  option.selected ? \"bg-blue-50\" : \"\"\n                }`}\n                onClick={() => selectOption(option)}\n              >\n                {isMulti && option.value != null && (\n                  <input type=\"checkbox\" checked={option.selected} readOnly />\n                )}\n                <li className={`whitespace-nowrap overflow-hidden overflow-ellipsis ${option.value === null ? 'italic' : ''}`}>\n                  {option.label}\n                </li>\n              </div>\n            ))}\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}